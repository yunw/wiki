<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css" />
<title>DirectFB</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<h2 id="toc_0.1">Environment</h2>

<p>
export PREFIX=/opt/busybox
export LDFLAGS="-L$PREFIX/lib -Wl,-rpath,$PREFIX/lib"
export CFLAGS="-g -I$PREFIX/include"
export PKG_CONFIG_PATH=$PREFIX/lib/pkgconfig
</p>

<h2 id="toc_0.2">freetype</h2>
<p>
./configure --host=arm-linux --prefix=/opt/busybox
make
make install
</p>

<h2 id="toc_0.3">jpeg</h2>
<p>
./configure  --host=arm-linux --prefix=$PREFIX --enable-shared --enable-static
修改生成的Makefile文件:
</p>
<ol>
<li>
The name of your C compiler:
<br />       CC= gcc  该成  CC=arm-linux-gcc (根据你自己交叉编译器的位置修改)
</li>
<li>
library (.a) file creation command
<br />       AR= ar rc 该成  AR= arm-linux-ar rc  (同上)
</li>
<li>
second step in .a creation (use &amp;quot;touch&amp;quot; if not needed)
<br />       AR2= ranlib 该成  AR2=arm-linux-ranlib (同上)
</li>
</ol>
       
<p>
make
make install-lib
</p>

<h2 id="toc_0.4">zlib</h2>
<p>
CC=arm-linux-gcc ./configure --prefix=$PREFIX --shared
make
make install
</p>

<h2 id="toc_0.5">libpng</h2>
<p>
./configure --host=arm-linux --prefix=$PREFIX
make
make install
</p>

<h2 id="toc_0.6">DirectFB</h2>
<p>
./configure --host=arm-linux \
--prefix=$PREFIX \
--with-gfxdrivers=none \
--with-inputdrivers=linuxinput \
--enable-png \
--enable-jpeg \
--disable-tiff \
--enable-zlib \
--enable-sdl=no \
--enable-gif=no \
--disable-video4linux \
--disable-x11
make
make install
</p>



<p>
./configure --prefix=/tmp/test \
--host=arm-linux \
--disable-x11 \
--disable-network \
--disable-jpeg \
--disable-png \
--disable-gif \
--disable-video4linux \
--disable-mmx \
--disable-freetype \
--with-inputdrivers=linuxinput \
--with-gfxdrivers=none \
 SYSCONFDIR=/
</p>
 
<pre>
(*) DirectFB/Core: Single Application Core. (2012-02-03 05:44) 
(!) DirectFB/fbdev/vt: KD_GRAPHICS failed!
    --&gt; Inappropriate ioctl for device
(!) DirectFB/Core: Could not initialize 'system_core' core!
    --&gt; Initialization error!
(#) DirectFBError [DirectFBCreate() failed]: Initialization error!
</pre>
<p>
执行命令时加上参数 --dfb:no-vt  
</p>

<p>
建立配置文件 /.directfbrc , 内容为
</p>
<pre>
no-vt
</pre>

</body>
</html>
